<div class="bg-dark text-white py-3 mx-auto">
    <h3 class="text-center">Търсене на автомобили</h3>
    <div class="col-11 mx-auto px-3 py-2">
        <div class="row">
            <div class="form-group my-2 col-6">
                <app-features-group-dropdown
                    [input]="input.brand"
                    [title]="messagesService.brand"
                    [observableOptionsList]="brands"
                    (onChangeHandler)="loadModelsByBrand($event)">
                </app-features-group-dropdown>
            </div>
            <div class="form-group my-2 col-6">
                <label class="mb-2">{{messagesService.model}}</label>
                <select [(ngModel)]="input.modelId" class="form-select">
                    <option *ngFor="let model of models" [value]="model?.id">
                        {{format(model?.name)}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group my-2 col-6">
                <label class="mb-2">{{messagesService.bodyStyle}}</label>
                <select [(ngModel)]="input.bodyStyle" class="form-select">
                    <option *ngFor="let bodyStyle of bodyStyles" [value]="bodyStyle">
                        {{format(bodyStyle)}}
                    </option>
                </select>
            </div>
            <div class="form-group my-2 col-6">
                <label class="mb-2">{{messagesService.engine}}</label>
                <select [(ngModel)]="input.engine" class="form-select">
                    <option *ngFor="let engine of engines" [value]="engine">
                        {{format(engine)}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group my-2 col-6">
                <label class="mb-2">{{messagesService.transmission}}</label>
                <select [(ngModel)]="input.transmission" class="form-select">
                    <option *ngFor="let transmission of transmissions" [value]="transmission">
                        {{format(transmission)}}
                    </option>
                </select>
            </div>
            <div class="form-group my-2 col-6">
                <label class="mb-2">{{messagesService.condition}}</label>
                <select [(ngModel)]="input.condition" class="form-select">
                    <option *ngFor="let condition of conditions" [value]="condition">
                        {{format(condition)}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group my-3 col-6">
                <label class="mb-2">{{messagesService.euroStandard}}</label>
                <select [(ngModel)]="input.euroStandard" class="form-select">
                    <option *ngFor="let euroStandard of euroStandards" [value]="euroStandard">
                        {{format(euroStandard)}}
                    </option>
                </select>
            </div>
            <div class="form-group my-3 col-6">
                <label class="mb-2">{{messagesService.color}}</label>
                <select [(ngModel)]="input.color" class="form-select">
                    <option *ngFor="let color of colors" [value]="color">
                        {{format(color)}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group my-3 col-6">
                <app-features-group-dropdown
                    [input]="input.region"
                    [title]="messagesService.region"
                    [observableOptionsList]="regions"
                    (onChangeHandler)="loadPopulatedPlacesByRegion($event)">
                </app-features-group-dropdown>
            </div>
            <div class="form-group my-3 col-6">
                <label class="mb-2">{{messagesService.populatedPlace}}</label>
                <select [(ngModel)]="input.populatedPlaceId" class="form-select">
                    <option *ngFor="let populatedPlace of populatedPlaces" [value]="populatedPlace?.id">
                        {{format(populatedPlace?.name)}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group my-2 col-6">
                <label class="mb-2">Година от</label>
                <select [(ngModel)]="input.minYear" class="form-select">
                    <option *ngFor="let year of years" [value]="year">{{format(year)}}</option>
                </select>
            </div>
            <div class="form-group my-2 col-6">
                <label class="mb-2">Година до</label>
                <select [(ngModel)]="input.maxYear" class="form-select">
                    <option *ngFor="let year of years" [value]="year">{{format(year)}}</option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group my-2 col-4">
                <label class="mb-2">Цена от</label>
                <input
                    [(ngModel)]="input.minPrice"
                    [placeholder]="messagesService.defaultNumericInputListValue"
                    type="number"
                    min="0"
                    class="form-control"/>
            </div>
            <div class="form-group my-2 col-4">
                <label class="mb-2">Цена до</label>
                <input
                    [(ngModel)]="input.maxPrice"
                    [placeholder]="messagesService.defaultNumericInputListValue"
                    type="number"
                    min="0"
                    class="form-control"/>
            </div>
            <div class="form-group my-2 col-4">
                <label class="mb-2">Валута</label>
                <select [(ngModel)]="input.currencyUnit" class="form-select">
                    <option *ngFor="let currencyUnit of currencyUnits" [value]="currencyUnit.value">
                        {{currencyUnit.name.toUpperCase()}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group my-2 col-4">
                <label class="mb-2">Мощност от</label>
                <input
                    [(ngModel)]="input.minPower"
                    [placeholder]="messagesService.defaultNumericInputListValue"
                    type="number"
                    min="1"
                    class="form-control"/>
            </div>
            <div class="form-group my-2 col-4">
                <label class="mb-2">Мощност до</label>
                <input
                    [(ngModel)]="input.maxPower"
                    [placeholder]="messagesService.defaultNumericInputListValue"
                    type="number"
                    min="1"
                    class="form-control"/>
            </div>
            <div class="form-group my-2 col-4">
                <label class="mb-2">Единица</label>
                <select [(ngModel)]="input.powerUnit" class="form-select">
                    <option *ngFor="let powerUnit of powerUnits" [value]="powerUnit.value">
                        {{powerUnit.name.toUpperCase()}}
                    </option>
                </select>
            </div>
        </div>
        <div class="row">
            <div class="form-group my-2 col-4">
                <label class="mb-2">Пробег от</label>
                <input
                    [(ngModel)]="input.minMileage"
                    [placeholder]="messagesService.defaultNumericInputListValue"
                    type="number"
                    min="1"
                    class="form-control"/>
            </div>
            <div class="form-group my-2 col-4">
                <label class="mb-2">Пробег до</label>
                <input
                    [(ngModel)]="input.maxMileage"
                    [placeholder]="messagesService.defaultNumericInputListValue"
                    type="number"
                    min="1"
                    class="form-control"/>
            </div>
            <div class="form-group my-2 col-4">
                <label class="mb-2">Единица</label>
                <select [(ngModel)]="input.mileageUnit" class="form-select">
                    <option *ngFor="let mileageUnit of mileageUnits" [value]="mileageUnit.value">
                        {{mileageUnit.name.toUpperCase()}}
                    </option>
                </select>
            </div>
        </div>
        <div class="my-4 text-center">
            <button (click)="searchAdverts()" class="btn btn-primary col-6">Търсене</button>
        </div>
    </div>
</div>
